<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<head>
<title>Curl: Re: libcurl callback order</title>
<meta name="Author" content="Daniel Stenberg (daniel_at_haxx.se)" />
<meta name="Subject" content="Re: libcurl callback order" />
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="http://curl.haxx.se/curl.css">
<link rel="shortcut icon" href="http://curl.haxx.se/favicon.ico">
</head>
<body bgcolor="#ffffff" text="#000000">
<div class="main">
<div class="menu">
<a href="http://curl.haxx.se/changes.html" class="menuitem" title="The changes done in releases">Changelog</a>
<a href="http://curl.haxx.se/dev/" class="menuitem" title="Resources for development and developers">Development</a>
<a href="http://curl.haxx.se/docs/" class="menuitem" title="curl documentation">Documentation</a>
<a href="http://curl.haxx.se/download.html" class="menuitem" title="Get curl packages">Download</a>
<a href="http://curl.haxx.se/libcurl/" class="menuitem" title="libcurl web site section">libcurl</a>
<a href="/mail/" class="itemselect">Mailing Lists</a>
<a href="http://curl.haxx.se/news.html" class="menuitem" title="Recent events and news in the project">News</a>
</div>
<div class="contents">
<div class="where"><a href="http://curl.haxx.se/">cURL</a> / <a href="/mail/">Mailing Lists</a> / <a href="./">curl-library</a> / <b>Single Mail</b></div>
<h1> curl-library </h1>
<p>
<div class="head">
<h1>Re: libcurl callback order</h1>
<!-- received="Wed May 25 22:10:19 2011" -->
<!-- isoreceived="20110525201019" -->
<!-- sent="Wed, 25 May 2011 22:09:53 +0200 (CEST)" -->
<!-- isosent="20110525200953" -->
<!-- name="Daniel Stenberg" -->
<!-- email="daniel_at_haxx.se" -->
<!-- subject="Re: libcurl callback order" -->
<!-- id="alpine.DEB.2.00.1105252205560.6671_at_tvnag.unkk.fr" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="353052.65642.qm&#64;web111509.mail.gq1.yahoo.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="0230.html" title="Saqib Ali: &quot;Re: Core dump when authentication fails?&quot;">Next message</a> ]
[ <a href="0228.html" title="Daniel Stenberg: &quot;RE: Unable to use libcurl to a site requiring client authentication&quot;">Previous message</a> ]
[ <a href="0227.html" title="Erik Earle: &quot;libcurl callback order&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Daniel Stenberg &lt;<a href="mailto:daniel_at_haxx.se?Subject=Re:%20libcurl%20callback%20order">daniel_at_haxx.se</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 25 May 2011 22:09:53 +0200 (CEST)</span><br />
</address>
<p>
On Wed, 25 May 2011, Erik Earle wrote:
<br />
<p><em class="quotelev1">&gt; I'm new to this and I'm looking at the samples, docs and list archives...
</em><br />
<p>Welcome!
<br />
<p><em class="quotelev1">&gt; I cannot find definitive information on whether 'curl_easy_perform' always 
</em><br />
<em class="quotelev1">&gt; returns after all the calls to 'recv_hdr' and 'recv_data' have returned
</em><br />
<p>It does. While curl_easy_perform() runs, it will call the callbacks to deliver 
<br />
data as long as there is data coming. When it reaches the end of the transfer, 
<br />
curl_easy_perform() will return.
<br />
<p><em class="quotelev1">&gt; if the call backs are multi-threaded.
</em><br />
<p>Oh, it never struck me you would think that. I guess we can or should clarify 
<br />
that in the documentation. libcurl will never start a new thread[*] and it 
<br />
will always call the callbacks from the same thread you're calling 
<br />
curl_easy_perform() from.
<br />
<p><em class="quotelev1">&gt; Is it the same for the share and multi interfaces as the easy?
</em><br />
<p>Yes, but you'll see that no function in the share interface makes any 
<br />
callbacks trigger.
<br />
<p>[*] = libcurl can optionally get built and told to start separate threads for 
<br />
the purpose of name resolving, but that's completely hidden from the user and 
<br />
no callbacks will ever be called from such extra &quot;support-thread(s)&quot;.
<br />
<p><pre>
-- 
  / daniel.haxx.se
-------------------------------------------------------------------
List admin: <a href="http://cool.haxx.se/list/listinfo/curl-library">http://cool.haxx.se/list/listinfo/curl-library</a>
Etiquette:  <a href="http://curl.haxx.se/mail/etiquette.html">http://curl.haxx.se/mail/etiquette.html</a>
</pre>
<span id="received"><dfn>Received on</dfn> 2011-05-25</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="0230.html" title="Next message in the list">Saqib Ali: "Re: Core dump when authentication fails?"</a></li>
<li><dfn>Previous message</dfn>: <a href="0228.html" title="Previous message in the list">Daniel Stenberg: "RE: Unable to use libcurl to a site requiring client authentication"</a></li>
<li><dfn>In reply to</dfn>: <a href="0227.html" title="Message to which this message replies">Erik Earle: "libcurl callback order"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#229" title="Contemporary messages by date">by date</a> ] [ <a href="index.html#229" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#229" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#229" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
</div>
</div>
</BODY>
</HTML>
</body>
</html>
